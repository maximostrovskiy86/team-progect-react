(this["webpackJsonpteam-progect-react"]=this["webpackJsonpteam-progect-react"]||[]).push([[1],{17:function(e,t,a){e.exports={navLink:"Navigation_navLink__3TxyP"}},20:function(e,t,a){e.exports={AuthNavigationBox:"AuthNavigation_AuthNavigationBox__qgGBG",authNav:"AuthNavigation_authNav__1tubr",activeNav:"AuthNavigation_activeNav__3Pxvj"}},26:function(e,t,a){},3:function(e,t,a){"use strict";var r=a(14),n=a.n(r),c=a(19),s=a(15),u=a.n(s),l=a(12);u.a.defaults.baseURL="https://slimmom-backend.goit.global";var i=function(e){u.a.defaults.headers.common.Authorization="Bearer ".concat(e)},o=function(){u.a.defaults.headers.common.Authorization=""},d=Object(l.b)("auth/register",function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,s,l,o,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,c=t.email,s=t.password,l=a.rejectWithValue,e.prev=2,e.next=5,u.a.post("/auth/register",{username:r,email:c,password:s});case 5:return e.next=7,u.a.post("/auth/login",{email:c,password:s});case 7:return o=e.sent,d=o.data,i(d.accessToken),e.abrupt("return",d);case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",l(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}()),j=Object(l.b)("auth/login",function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,e.next=4,u.a.post("/auth/login",t);case 4:return c=e.sent,s=c.data,i(s.accessToken),e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()),A=Object(l.b)("auth/logout",function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,e.next=4,u.a.post("/auth/logout",t);case 4:o(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}()),b=Object(l.b)("auth/refresh",function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,s,l,o,d,j;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.rejectWithValue,c=a.getState,s=c(),l=s.auth.refreshToken,o=s.auth.sid,null!==l){e.next=6;break}return e.abrupt("return",r());case 6:return i(l),e.prev=7,e.next=10,u.a.post("/auth/refresh",{sid:o});case 10:return d=e.sent,j=d.data,e.abrupt("return",j);case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",r(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,a){return e.apply(this,arguments)}}()),f=Object(l.b)("/user/refresh",function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,s,l,o,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,c=a.getState,s=c(),l=s.auth.accessToken,i(l),e.prev=4,e.next=7,u.a.get("/user");case 7:return o=e.sent,d=o.data,e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",r(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,a){return e.apply(this,arguments)}}()),h={register:d,logOut:A,logIn:j,refreshAccessToken:b,refreshUserData:f};t.a=h},32:function(e,t,a){e.exports={headerWrapper:"Header_headerWrapper__3c7PT",headerContainer:"Header_headerContainer__3ccm2"}},49:function(e,t,a){},6:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n.a}));var r={getIsLoggedIn:function(e){return e.user.isLoggedIn},getUserName:function(e){return e.user.username},getIsRefreshingUser:function(e){return e.auth.isRefreshingUser},getUserId:function(e){return e.user.id}},n=a(3)},80:function(e,t,a){"use strict";a.r(t);var r,n,c=a(0),s=a.n(c),u=a(22),l=a.n(u),i=(a(49),a(11)),o=a(5),d=a(42),j=a(12),A=a(13),b=a(4),f=a(3),h=a(29),p=a.n(h),O={key:"auth",storage:p.a},g={key:"user",storage:p.a},m=Object(j.c)({name:"user",initialState:{username:null,email:null,id:null,todaySummary:null,userData:null,isLoggedIn:!1,date:null,error:null},extraReducers:(r={},Object(b.a)(r,f.a.refreshUserData.fulfilled,(function(e,t){e.todaySummary=t.payload.days.daySummary,e.date=t.payload.days.date,e.userData=t.payload.userData,e.username=t.payload.username,e.email=t.payload.email,e.id=t.payload.id,e.isLoggedIn=!0})),Object(b.a)(r,f.a.refreshUserData.rejected,(function(e){e.username=null,e.email=null,e.id=null,e.todaySummary=null,e.userData=null,e.isLoggedIn=!1})),Object(b.a)(r,f.a.register.fulfilled,(function(e,t){e.date=t.payload.todaySummary.date,e.todaySummary=t.payload.todaySummary,e.userData=t.payload.user.userData,e.username=t.payload.user.username,e.email=t.payload.user.email,e.id=t.payload.user.id,e.isLoggedIn=!0})),Object(b.a)(r,f.a.logIn.fulfilled,(function(e,t){e.date=t.payload.todaySummary.date,e.todaySummary=t.payload.todaySummary,e.userData=t.payload.user.userData,e.username=t.payload.user.username,e.email=t.payload.user.email,e.id=t.payload.user.id,e.isLoggedIn=!0})),Object(b.a)(r,f.a.logOut.fulfilled,(function(e){e.username=null,e.email=null,e.id=null,e.todaySummary=null,e.userData=null,e.isLoggedIn=!1,e.date=null})),Object(b.a)(r,f.a.logOut.rejected,(function(e){e.username=null,e.email=null,e.id=null,e.todaySummary=null,e.userData=null,e.isLoggedIn=!1,e.date=null})),Object(b.a)(r,f.a.refreshAccessToken.rejected,(function(e){e.username=null,e.email=null,e.id=null,e.todaySummary=null,e.userData=null,e.isLoggedIn=!1,e.date=null})),Object(b.a)(r,f.a.refreshAccessToken.fulfilled,(function(e){e.isLoggedIn=!0})),r)}),x=Object(j.c)({name:"auth",initialState:{accessToken:null,refreshToken:null,sid:null,error:null},extraReducers:(n={},Object(b.a)(n,f.a.register.pending,(function(e){e.error=null})),Object(b.a)(n,f.a.register.fulfilled,(function(e,t){e.accessToken=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.sid=t.payload.sid})),Object(b.a)(n,f.a.register.rejected,(function(e,t){e.error=t.payload})),Object(b.a)(n,f.a.logIn.pending,(function(e){e.error=null})),Object(b.a)(n,f.a.logIn.fulfilled,(function(e,t){e.accessToken=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.sid=t.payload.sid})),Object(b.a)(n,f.a.logIn.rejected,(function(e,t){e.error=t.payload})),Object(b.a)(n,f.a.logOut.pending,(function(e){e.error=null})),Object(b.a)(n,f.a.logOut.fulfilled,(function(e){e.accessToken=null,e.refreshToken=null,e.sid=null})),Object(b.a)(n,f.a.logOut.rejected,(function(e,t){e.accessToken=null,e.refreshToken=null,e.sid=null,e.error=t.payload})),Object(b.a)(n,f.a.refreshAccessToken.pending,(function(e){e.error=null})),Object(b.a)(n,f.a.refreshAccessToken.fulfilled,(function(e,t){e.accessToken=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.sid=t.payload.sid,e.isRefreshingToken=!1})),Object(b.a)(n,f.a.refreshAccessToken.rejected,(function(e,t){e.accessToken=null,e.refreshToken=null,e.sid=null,e.error=t.payload})),n)}),v=Object(A.g)(g,m.reducer),B=Object(A.g)(O,x.reducer),y=Object(j.a)({reducer:{user:v,auth:B},middleware:function(e){return e({serializableCheck:{ignoredActions:[A.a,A.f,A.b,A.c,A.d,A.e]}})},devTools:!1}),E=Object(A.h)(y),k=a(6),Q=a(16),T=a(25),w=a(2),N=a(1),L=["children","restricted","redirectTo"];function I(e){var t=e.children,a=e.restricted,r=void 0!==a&&a,n=e.redirectTo,c=void 0===n?"/":n,s=Object(T.a)(e,L),u=Object(o.c)(k.b.getIsLoggedIn)&&r;return Object(N.jsx)(w.b,Object(Q.a)(Object(Q.a)({},s),{},{children:u?Object(N.jsx)(w.a,{to:c}):t}))}var D=["children","redirectTo"];function W(e){var t=e.children,a=e.redirectTo,r=void 0===a?"/":a,n=Object(T.a)(e,D),c=Object(o.c)(k.b.getIsLoggedIn);return Object(N.jsx)(w.b,Object(Q.a)(Object(Q.a)({},n),{},{children:c?t:Object(N.jsx)(w.a,{to:r})}))}var G=a(20),S=a.n(G),H=function(){return Object(N.jsxs)("div",{className:S.a.AuthNavigationBox,children:[Object(N.jsx)(i.c,{className:S.a.authNav,activeClassName:S.a.activeNav,to:"/login",exact:!0,children:"\u0412\u0445\u043e\u0434"}),Object(N.jsx)(i.c,{className:S.a.authNav,activeClassName:S.a.activeNav,to:"/register",exact:!0,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})},J=function(){return Object(N.jsx)("img",{srcSet:"data:image/jpeg;base64,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",alt:"logo",width:"47",height:"44"})},P=a(17),V=a.n(P),R=function(){var e=Object(o.c)(k.b.getIsLoggedIn);return Object(N.jsxs)("nav",{className:V.a.nav,children:[Object(N.jsx)(i.c,{className:V.a.navLogo,activeClassName:V.a.activeNav,to:"/",exact:!0,children:Object(N.jsx)(J,{})}),e&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(i.c,{className:V.a.navLink,activeClassName:V.a.activeNav,to:"/diary",exact:!0,children:"\u0414\u043d\u0435\u0432\u043d\u0438\u043a"}),Object(N.jsx)(i.c,{className:V.a.navLink,activeClassName:V.a.activeNav,to:"/calculator",exact:!0,children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440"})]})]})},z=a(26),F=a.n(z),U=function(){var e=Object(o.b)(),t=Object(o.c)(k.b.getUserName);return Object(N.jsxs)("div",{className:F.a.userWrapper,children:[Object(N.jsx)("span",{className:F.a.userName,children:t}),Object(N.jsx)("button",{className:F.a.logBtn,type:"button",onClick:function(){e(k.a.logOut())},children:"logout"})]})},K=a(32),C=a.n(K);function q(){var e=Object(o.c)(k.b.getIsLoggedIn);return Object(N.jsx)("header",{className:C.a.headerWrapper,children:Object(N.jsxs)("div",{className:C.a.headerContainer,children:[Object(N.jsx)(R,{})," ",e?Object(N.jsx)(U,{}):Object(N.jsx)(H,{})]})})}var Z=Object(c.lazy)((function(){return Promise.all([a.e(0),a.e(9),a.e(4)]).then(a.bind(null,250))})),X=Object(c.lazy)((function(){return a.e(7).then(a.bind(null,251))})),Y=Object(c.lazy)((function(){return a.e(6).then(a.bind(null,252))})),M=Object(c.lazy)((function(){return a.e(8).then(a.bind(null,248))})),_=Object(c.lazy)((function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,249))}));function $(){var e=Object(o.b)(),t=Object(o.c)(k.b.getIsRefreshingUser),a=Object(o.c)(k.b.getIsLoggedIn);return Object(c.useEffect)((function(){a&&e(k.a.refreshUserData())}),[e]),!t&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(q,{}),Object(N.jsx)(w.d,{children:Object(N.jsxs)(c.Suspense,{fallback:Object(N.jsx)("div",{children:"loader"}),children:[Object(N.jsx)(I,{exact:!0,path:"/",children:Object(N.jsx)(Z,{})}),Object(N.jsx)(I,{path:"/register",restricted:!0,children:Object(N.jsx)(X,{})}),Object(N.jsx)(I,{path:"/login",restricted:!0,redirectTo:"/diary",children:Object(N.jsx)(Y,{})}),Object(N.jsx)(W,{path:"/diary",restricted:!0,redirectTo:"/login",children:Object(N.jsx)(M,{})}),Object(N.jsx)(W,{path:"/calculator",restricted:!0,redirectTo:"/login",children:Object(N.jsx)(_,{})}),Object(N.jsx)(w.a,{to:"/"})]})})]})}l.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(o.a,{store:y,children:Object(N.jsx)(d.a,{loading:Object(N.jsx)("h2",{children:"...loading"}),persistor:E,children:Object(N.jsx)(i.a,{children:Object(N.jsx)($,{})})})})}),document.getElementById("root"))}},[[80,2,3]]]);
//# sourceMappingURL=main.b5e97b84.chunk.js.map