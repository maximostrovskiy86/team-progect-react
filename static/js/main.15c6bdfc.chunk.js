(this["webpackJsonpteam-progect-react"]=this["webpackJsonpteam-progect-react"]||[]).push([[1],{17:function(e,t,a){e.exports={navLink:"Navigation_navLink__3TxyP"}},19:function(e,t,a){e.exports={AuthNavigationBox:"AuthNavigation_AuthNavigationBox__qgGBG",authNav:"AuthNavigation_authNav__1tubr",activeNav:"AuthNavigation_activeNav__3Pxvj"}},26:function(e,t,a){},3:function(e,t,a){"use strict";var r=a(16),n=a.n(r),c=a(21),s=a(14),u=a.n(s),i=a(13);u.a.defaults.baseURL="https://slimmom-backend.goit.global";var l=function(e){u.a.defaults.headers.common.Authorization="Bearer ".concat(e)},o=function(){u.a.defaults.headers.common.Authorization=""},d=Object(i.b)("auth/register",function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,s,i,o,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,c=t.email,s=t.password,i=a.rejectWithValue,e.prev=2,e.next=5,u.a.post("/auth/register",{username:r,email:c,password:s});case 5:return e.next=7,u.a.post("/auth/login",{email:c,password:s});case 7:return o=e.sent,d=o.data,l(d.accessToken),e.abrupt("return",d);case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",i(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}()),j=Object(i.b)("auth/login",function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,e.next=4,u.a.post("/auth/login",t);case 4:return c=e.sent,s=c.data,l(s.accessToken),e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()),A=Object(i.b)("auth/logout",function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,e.next=4,u.a.post("/auth/logout",t);case 4:o(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}()),b=Object(i.b)("auth/refresh",function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,s,i,o,d,j;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.rejectWithValue,c=a.getState,s=c(),i=s.auth.refreshToken,o=s.auth.sid,null!==i){e.next=6;break}return e.abrupt("return",r());case 6:return l(i),e.prev=7,e.next=10,u.a.post("/auth/refresh",{sid:o});case 10:return d=e.sent,j=d.data,e.abrupt("return",j);case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",r(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,a){return e.apply(this,arguments)}}()),h={register:d,logOut:A,logIn:j,refreshAccessToken:b};t.a=h},32:function(e,t,a){e.exports={headerWrapper:"Header_headerWrapper__3c7PT",headerContainer:"Header_headerContainer__3ccm2"}},49:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var r,n,c=a(0),s=a.n(c),u=a(22),i=a.n(u),l=(a(49),a(11)),o=a(5),d=a(42),j=a(13),A=a(12),b=a(4),h=a(3),f=a(29),p=a.n(f),O={key:"auth",storage:p.a},x={key:"user",storage:p.a},g=Object(j.c)({name:"user",initialState:{user:{username:null,email:null,id:null},todaySummary:null,userData:null,isLoggedIn:!1},extraReducers:(r={},Object(b.a)(r,h.a.register.fulfilled,(function(e,t){e.todaySummary=t.payload.todaySummary,e.userData=t.payload.user.userData,e.user.username=t.payload.user.username,e.user.email=t.payload.user.email,e.user.id=t.payload.user.id,e.isLoggedIn=!0})),Object(b.a)(r,h.a.logIn.fulfilled,(function(e,t){e.todaySummary=t.payload.todaySummary,e.userData=t.payload.user.userData,e.user.username=t.payload.user.username,e.user.email=t.payload.user.email,e.user.id=t.payload.user.id,e.isLoggedIn=!0})),Object(b.a)(r,h.a.logOut.fulfilled,(function(e){e.user.username=null,e.user.email=null,e.user.id=null,e.todaySummary=null,e.userData=null,e.isLoggedIn=!1})),Object(b.a)(r,h.a.logOut.rejected,(function(e){e.user.username=null,e.user.email=null,e.user.id=null,e.todaySummary=null,e.userData=null,e.isLoggedIn=!1})),Object(b.a)(r,h.a.refreshAccessToken.rejected,(function(e){e.user.username=null,e.user.email=null,e.user.id=null,e.todaySummary=null,e.userData=null})),Object(b.a)(r,h.a.refreshAccessToken.fulfilled,(function(e){e.isLoggedIn=!0})),r)}),v=Object(j.c)({name:"auth",initialState:{accessToken:null,refreshToken:null,sid:null,error:null},extraReducers:(n={},Object(b.a)(n,h.a.register.pending,(function(e){e.error=null})),Object(b.a)(n,h.a.register.fulfilled,(function(e,t){e.accessToken=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.sid=t.payload.sid})),Object(b.a)(n,h.a.register.rejected,(function(e,t){e.error=t.payload})),Object(b.a)(n,h.a.logIn.pending,(function(e){e.error=null})),Object(b.a)(n,h.a.logIn.fulfilled,(function(e,t){e.accessToken=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.sid=t.payload.sid})),Object(b.a)(n,h.a.logIn.rejected,(function(e,t){e.error=t.payload})),Object(b.a)(n,h.a.logOut.pending,(function(e){e.error=null})),Object(b.a)(n,h.a.logOut.fulfilled,(function(e){e.accessToken=null,e.refreshToken=null,e.sid=null})),Object(b.a)(n,h.a.logOut.rejected,(function(e,t){e.accessToken=null,e.refreshToken=null,e.sid=null,e.error=t.payload})),Object(b.a)(n,h.a.refreshAccessToken.pending,(function(e){e.error=null})),Object(b.a)(n,h.a.refreshAccessToken.fulfilled,(function(e,t){e.accessToken=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.sid=t.payload.sid,e.isRefreshingToken=!1})),Object(b.a)(n,h.a.refreshAccessToken.rejected,(function(e,t){e.accessToken=null,e.refreshToken=null,e.sid=null,e.isLoggedIn=!1,e.error=t.payload})),n)}),m=Object(A.g)(x,g.reducer),B=Object(A.g)(O,v.reducer),E=Object(j.a)({reducer:{user:m,auth:B},middleware:function(e){return e({serializableCheck:{ignoredActions:[A.a,A.f,A.b,A.c,A.d,A.e]}})},devTools:!1}),k=Object(A.h)(E),Q=a(9),y=a(15),T=a(25),N=a(2),w=a(1),L=["children","restricted","redirectTo"];function I(e){var t=e.children,a=e.restricted,r=void 0!==a&&a,n=e.redirectTo,c=void 0===n?"/":n,s=Object(T.a)(e,L),u=Object(o.c)(Q.b.getIsLoggedIn)&&r;return Object(w.jsx)(N.b,Object(y.a)(Object(y.a)({},s),{},{children:u?Object(w.jsx)(N.a,{to:c}):t}))}var G=["children","redirectTo"];function W(e){var t=e.children,a=e.redirectTo,r=void 0===a?"/":a,n=Object(T.a)(e,G),c=Object(o.c)(Q.b.getIsLoggedIn);return Object(w.jsx)(N.b,Object(y.a)(Object(y.a)({},n),{},{children:c?t:Object(w.jsx)(N.a,{to:r})}))}var H=a(19),J=a.n(H),P=function(){return Object(w.jsxs)("div",{className:J.a.AuthNavigationBox,children:[Object(w.jsx)(l.b,{className:J.a.authNav,activeClassName:J.a.activeNav,to:"/login",exact:!0,children:"\u0412\u0445\u043e\u0434"}),Object(w.jsx)(l.b,{className:J.a.authNav,activeClassName:J.a.activeNav,to:"/register",exact:!0,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})},D=function(){return Object(w.jsx)("img",{srcSet:"data:image/jpeg;base64,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",alt:"logo",width:"47",height:"44"})},R=a(17),V=a.n(R),z=function(){var e=Object(o.c)(Q.b.getIsLoggedIn);return Object(w.jsxs)("nav",{className:V.a.nav,children:[Object(w.jsx)(l.b,{className:V.a.navLogo,activeClassName:V.a.activeNav,to:"/",exact:!0,children:Object(w.jsx)(D,{})}),e&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.b,{className:V.a.navLink,activeClassName:V.a.activeNav,to:"/diary",exact:!0,children:"\u0414\u043d\u0435\u0432\u043d\u0438\u043a"}),Object(w.jsx)(l.b,{className:V.a.navLink,activeClassName:V.a.activeNav,to:"/calculator",exact:!0,children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440"})]})]})},F=a(26),S=a.n(F),K=function(){var e=Object(o.b)(),t=Object(o.c)(Q.b.getUserName);return Object(w.jsxs)("div",{className:S.a.userWrapper,children:[Object(w.jsx)("span",{className:S.a.userName,children:t}),Object(w.jsx)("button",{className:S.a.logBtn,type:"button",onClick:function(){e(Q.a.logOut())},children:"logout"})]})},C=a(32),U=a.n(C);function q(){var e=Object(o.c)(Q.b.getIsLoggedIn);return Object(w.jsx)("header",{className:U.a.headerWrapper,children:Object(w.jsxs)("div",{className:U.a.headerContainer,children:[Object(w.jsx)(z,{})," ",e?Object(w.jsx)(K,{}):Object(w.jsx)(P,{})]})})}var Z=Object(c.lazy)((function(){return Promise.all([a.e(0),a.e(9),a.e(4)]).then(a.bind(null,249))})),X=Object(c.lazy)((function(){return a.e(7).then(a.bind(null,250))})),Y=Object(c.lazy)((function(){return a.e(6).then(a.bind(null,251))})),M=Object(c.lazy)((function(){return a.e(8).then(a.bind(null,247))})),_=Object(c.lazy)((function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,248))}));function $(){var e=Object(o.b)(),t=Object(o.c)(Q.b.getIsRefreshingUser);return Object(c.useEffect)((function(){}),[e]),!t&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(q,{}),Object(w.jsx)(N.d,{children:Object(w.jsxs)(c.Suspense,{fallback:Object(w.jsx)("div",{children:"loader"}),children:[Object(w.jsx)(I,{exact:!0,path:"/",children:Object(w.jsx)(Z,{})}),Object(w.jsx)(I,{path:"/register",restricted:!0,children:Object(w.jsx)(X,{})}),Object(w.jsx)(I,{path:"/login",restricted:!0,redirectTo:"/diary",children:Object(w.jsx)(Y,{})}),Object(w.jsx)(W,{path:"/diary",restricted:!0,redirectTo:"/login",children:Object(w.jsx)(M,{})}),Object(w.jsx)(W,{path:"/calculator",restricted:!0,redirectTo:"/login",children:Object(w.jsx)(_,{})}),Object(w.jsx)(N.a,{to:"/"})]})})]})}i.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(o.a,{store:E,children:Object(w.jsx)(d.a,{loading:Object(w.jsx)("h2",{children:"...loading"}),persistor:k,children:Object(w.jsx)(l.a,{children:Object(w.jsx)($,{})})})})}),document.getElementById("root"))},9:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n.a}));var r={getIsLoggedIn:function(e){return e.user.isLoggedIn},getUserName:function(e){return e.user.username},getIsRefreshingUser:function(e){return e.auth.isRefreshingUser},getUserId:function(e){return e.user.id}},n=a(3)}},[[80,2,3]]]);
//# sourceMappingURL=main.15c6bdfc.chunk.js.map