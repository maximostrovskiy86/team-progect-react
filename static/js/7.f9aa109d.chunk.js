(this["webpackJsonpteam-progect-react"]=this["webpackJsonpteam-progect-react"]||[]).push([[7],{165:function(e,t,a){"use strict";var r=a(0),c=a(19),n=a(166),i=a.n(n),o=a(1),s=document.querySelector("#modal-root");t.a=function(e){var t=e.toggle,a=e.children;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),document.querySelector("body").style.overflow="hidden",function(){window.removeEventListener("keydown",n),document.querySelector("body").style.overflow="auto"}}));var n=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(o.jsx)("div",{className:i.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(o.jsx)("div",{className:i.a.Modal,children:a})}),s)}},166:function(e,t,a){e.exports={Overlay:"Modal_Overlay__bqE87",Modal:"Modal_Modal__bq6xk",ModalCloseSvg:"Modal_ModalCloseSvg__1VNfY",ModalExit:"Modal_ModalExit__2tbec",ModalCloseSvgBack:"Modal_ModalCloseSvgBack__3irFm",button:"Modal_button__1BJxe"}},167:function(e,t,a){"use strict";a(0);var r=a(168),c=a.n(r),n=a(1);t.a=function(e){var t=e.onClick,a=e.text;return Object(n.jsx)("button",{type:"submit",className:c.a.Button,onClick:t,children:a})}},168:function(e,t,a){e.exports={Button:"Button_Button__ra12g"}},169:function(e,t,a){e.exports={Overlay:"GoBack_Overlay__2nbJN",Modal:"GoBack_Modal__Cg_uX",ModalCloseSvg:"GoBack_ModalCloseSvg__2KDpJ",ModalExit:"GoBack_ModalExit__1YN0b",ModalCloseSvgBack:"GoBack_ModalCloseSvgBack__33qrX",button:"GoBack_button__29OCc"}},176:function(e,t,a){"use strict";a(0);var r=a(177),c=a.n(r),n=a(10),i=a(20),o=a(11),s=a(142),d=a.n(s),l=a(1);t.a=function(e){var t=e.date,a=d()(t).format("YYYY-MM-DD"),r=Object(n.c)(o.b.getNotAllowedProducts),s=Object(n.c)((function(e){return i.b.getRightSideBarRateByDay(e,a)}));console.log(s);var u=function(e){return s?s.daySummary[e]:0};return Object(l.jsxs)("div",{className:c.a.sideBarContainer,children:[Object(l.jsxs)("div",{className:c.a.characteristicBox,children:[Object(l.jsxs)("p",{className:c.a.sideBarTitle,children:["\u0421\u0432\u043e\u0434\u043a\u0430 \u0437\u0430 ",d()(t).format("DD-MM-YYYY")]}),Object(l.jsxs)("ul",{className:c.a.sideBarList,children:[Object(l.jsx)("li",{className:c.a.sideBarItem,children:Object(l.jsxs)("p",{className:c.a.sideBarItem_text,children:["\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c",Object(l.jsxs)("span",{className:c.a.sideBarItem_span,children:[u("kcalLeft")||u("dailyRate")||0,"\u043a\u043a\u0430\u043b"]})]})}),Object(l.jsx)("li",{className:c.a.sideBarItem,children:Object(l.jsxs)("p",{className:c.a.sideBarItem_text,children:["\u0423\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u043e",Object(l.jsxs)("span",{className:c.a.sideBarItem_span,children:[u("kcalConsumed")||0," \u043a\u043a\u0430\u043b"]})]})}),Object(l.jsx)("li",{className:c.a.sideBarItem,children:Object(l.jsxs)("p",{className:c.a.sideBarItem_text,children:["\u0414\u043d\u0435\u0432\u043d\u0430\u044f \u043d\u043e\u0440\u043c\u0430",Object(l.jsxs)("span",{className:c.a.sideBarItem_span,children:[u("dailyRate")||0," \u043a\u043a\u0430\u043b"]})]})}),Object(l.jsx)("li",{className:c.a.sideBarItem,children:Object(l.jsxs)("p",{className:c.a.sideBarItem_text,children:["n% \u043e\u0442 \u043d\u043e\u0440\u043c\u044b",Object(l.jsxs)("span",{className:c.a.sideBarItem_span,children:[u("percentsOfDailyRate")||0," \u043a\u043a\u0430\u043b"]})]})})]})]}),Object(l.jsxs)("div",{className:c.a.notAllowedProductsBox,children:[Object(l.jsx)("p",{className:c.a.notAllowedProductsTitle,children:"\u041d\u0435\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"}),Object(l.jsx)("p",{className:c.a.notAllowedProductsItems,children:r.slice(0,5).join(", ")})]})]})}},177:function(e,t,a){e.exports={sideBarContainer:"RightSideBar_sideBarContainer__37FUp",characteristicBox:"RightSideBar_characteristicBox__BSdWu",sideBarTitle:"RightSideBar_sideBarTitle__32LG8",sideBarList:"RightSideBar_sideBarList__20sWt",sideBarItem:"RightSideBar_sideBarItem__3r4GA",sideBarItem_text:"RightSideBar_sideBarItem_text__35MAV",notAllowedProductsTitle:"RightSideBar_notAllowedProductsTitle___7XWM",notAllowedProductsItems:"RightSideBar_notAllowedProductsItems__1AnCv",notAllowedProductsBox:"RightSideBar_notAllowedProductsBox__2sLXr"}},179:function(e,t,a){"use strict";a(0);var r=a(169),c=a.n(r),n=a.p+"static/media/sprite.1f403ba2.svg",i=a(1);t.a=function(e){var t=e.onClick;return Object(i.jsx)("div",{className:c.a.ModalExit,children:Object(i.jsx)("svg",{className:c.a.ModalCloseSvgBack,onClick:t,children:Object(i.jsx)("use",{href:n+"#exit"})})})}},333:function(e,t,a){e.exports={diaryPageWraper:"DiaryPage_diaryPageWraper__1ME2x",products:"DiaryPage_products__3iSY1",dairyFormContainer:"DiaryPage_dairyFormContainer__2HXml",RightSideBarContainer:"DiaryPage_RightSideBarContainer__3KWo5",diaryProductFormBtn:"DiaryPage_diaryProductFormBtn__1ZN-m"}},334:function(e,t,a){e.exports={diaryProductForm:"DiaryAddProductForm_diaryProductForm__20I7-",block:"DiaryAddProductForm_block__2sNyn",productInput:"DiaryAddProductForm_productInput__2N5uv",weightInput:"DiaryAddProductForm_weightInput__20C4F",diaryProductFormBtn:"DiaryAddProductForm_diaryProductFormBtn__PMadu"}},336:function(e,t,a){e.exports={"\u0441alendar":"DiaryDate\u0421alendar_\u0441alendar__3BOpO",datePicker:"DiaryDate\u0421alendar_datePicker__3mfTc",datePickerLogo:"DiaryDate\u0421alendar_datePickerLogo__3OzKI"}},382:function(e,t,a){e.exports={itemProduct:"DiaryProductsListItem_itemProduct__oPQ3q"}},392:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return W}));var r=a(40),c=a(0),n=a(333),i=a.n(n),o=a(6),s=a.n(o),d=a(18),l=a(334),u=a.n(l),j=a(142),b=a.n(j),_=a(20),m=a(10),O=a(8),x=a.n(O),h=a(1);x.a.defaults.baseURL="https://slimmom-backend.goit.global";var p,f,g,y,v=function(e){e.toggle,e.isOpen,e.orMobile;var t=e.date,a=(e.submit,Object(c.useState)("")),n=Object(r.a)(a,2),i=n[0],o=n[1],l=Object(c.useState)([]),j=Object(r.a)(l,2),O=j[0],p=j[1],f=Object(c.useState)(""),g=Object(r.a)(f,2),y=g[0],v=g[1],B=Object(m.b)(),P=function(e){o(e),e.length<3||x.a.get("/product?search=".concat(e)).then((function(e){var t=e.data;p(t)}))},M=function(){var e=Object(d.a)(s.a.mark((function e(a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),r=b()(t).format("YYYY-MM-DD"),N()&&(c={date:r,productId:N()._id,weight:y},B(_.a.addProductByDay(c)));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){return O.find((function(e){return e.title.ru===i}))};return Object(h.jsxs)("form",{className:u.a.diaryProductForm,onSubmit:M,children:[Object(h.jsx)("label",{children:Object(h.jsx)("input",{className:u.a.productInput,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430",list:"produsts",value:i,onChange:function(e){var t=e.target.value;P(t)}})}),Object(h.jsx)("datalist",{id:"produsts",children:O.map((function(e){return Object(h.jsx)("option",{children:e.title.ru},e._id)}))}),Object(h.jsx)("label",{children:Object(h.jsx)("input",{className:u.a.weightInput,type:"text",value:y,onChange:function(e){var t=e.target.value;v(t)},placeholder:"\u0413\u0440\u0430\u043c\u043c\u044b"})}),Object(h.jsx)("button",{type:"submit",onClick:M,className:u.a.diaryProductFormBtn,children:"+"})]})},B=a(337),P=a.n(B),M=["title","titleId"];function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},N.apply(this,arguments)}function k(e,t){if(null==e)return{};var a,r,c=function(e,t){if(null==e)return{};var a,r,c={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function w(e,t){var a=e.title,r=e.titleId,n=k(e,M);return c.createElement("svg",N({width:18,height:20,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},n),a?c.createElement("title",{id:r},a):null,p||(p=c.createElement("path",{d:"M14 9H12V11H14V9Z",fill:"#9B9FAA"})),f||(f=c.createElement("path",{d:"M10 9H8V11H10V9Z",fill:"#9B9FAA"})),g||(g=c.createElement("path",{d:"M6.00002 9H4V11H6.00002V9Z",fill:"#9B9FAA"})),y||(y=c.createElement("path",{d:"M16 2.00001H15V0H13V2.00001H5.00001V0H3V2.00001H2.00001C0.890015 2.00001 0.0100313 2.90001 0.0100313 4.00003L0 18C0 19.1 0.890015 20 2.00001 20H16C17.1 20 18 19.1 18 18V3.99998C18 2.90001 17.1 2.00001 16 2.00001ZM16 18H2.00001V6.99998H16V18Z",fill:"#9B9FAA"})))}var C=c.forwardRef(w),D=(a.p,a(335),a(336)),S=a.n(D),I=function(e){var t=e.selectDate,a=e.date;return Object(h.jsx)("div",{className:S.a.\u0441alendar,children:Object(h.jsxs)("label",{children:[Object(h.jsx)(P.a,{className:S.a.datePicker,selected:a,dateFormat:"dd.MM.yyyy",onChange:function(e){return t(e)}}),Object(h.jsx)(C,{className:S.a.datePickerLogo})]})})},A=a(176),F=a(165),R=a(167),Y=a(204),E=a(179),H=a(43),V=a(32),L=a(382),q=a.n(L),G=function(e){var t=e.title,a=e.kcal,r=e.weight,c=e.onDelete,n=e.id;return Object(h.jsxs)("li",{className:q.a.itemProduct,children:[Object(h.jsx)("span",{children:t}),Object(h.jsx)("span",{children:r}),Object(h.jsx)("span",{children:a}),Object(h.jsx)("button",{type:"button",onClick:function(){return c(n)},children:"\ud83d\udee0"})]})},T=function(e){var t=e.date,a=b()(t).format("YYYY-MM-DD"),r=Object(m.c)((function(e){return _.b.getDailyRateByDay(e,a)}));console.log("day:",r);var c=Object(m.b)();console.log(r?r.eatenProducts:[]);var n=function(e){var t={eatenProductId:e,dayId:r._id||r.id};c(_.a.deleteProductByDay(t))};return Object(h.jsx)(h.Fragment,{children:r?Object(h.jsx)("ul",{children:r.eatenProducts.map((function(e){return Object(h.jsx)(G,{title:e.title,kcal:e.kcal,weight:e.weight,onDelete:n,id:e.id},e.id)}))}):[]})};function W(){var e=Object(c.useState)(new Date),t=Object(r.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(!1),s=Object(r.a)(o,2),d=s[0],l=s[1],u=function(){l((function(e){return!e}))},j=Object(Y.useMediaQuery)({query:"(max-width: 768px)"});return Object(h.jsxs)("div",{className:i.a.diaryPageWraper,children:[Object(h.jsx)("div",{className:i.a.products,children:Object(h.jsxs)("div",{className:i.a.dairyFormContainer,children:[Object(h.jsx)(I,{date:a,selectDate:n}),!j&&Object(h.jsx)(v,{date:a}),Object(h.jsx)(T,{date:a}),d&&j&&Object(h.jsxs)(F.a,{toggle:u,children:[j?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(E.a,{onClick:u}),Object(h.jsx)(V.a,{})]}):Object(h.jsx)(H.a,{toggle:u}),Object(h.jsx)(v,{orMobile:j,isOpen:d,toggle:u}),Object(h.jsx)(R.a,{onClick:function(){return console.log("Add product")},text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})}),Object(h.jsx)("div",{className:i.a.RightSideBarContainer,children:Object(h.jsx)(A.a,{date:a})})]})}}}]);
//# sourceMappingURL=7.f9aa109d.chunk.js.map