{"version":3,"sources":["components/modal/Modal.js","components/modal/Modal.module.scss","components/button/Button.js","components/button/Button.module.scss","components/goBack/GoBack.module.scss","components/rightSideBar/RightSideBar.js","components/rightSideBar/RightSideBar.module.scss","images/modal/sprite.svg","components/goBack/GoBack.js","pages/diaryPage/DiaryPage.module.scss","components/diaryAddProductForm/DiaryAddProductForm.module.scss","components/diaryDateСalendar/DiaryDateСalendar.module.scss","components/DiaryProductsListItem/DiaryProductsListItem.module.scss","components/diaryAddProductForm/DiaryAddProductForm.js","images/calendar.svg","components/diaryDateСalendar/DiaryDateСalendar.js","components/DiaryProductsListItem/DiaryProductsListItem.js","components/diaryProductsList/DiaryProductsList.js","pages/diaryPage/DiaryPage.js"],"names":["modalRoot","document","querySelector","Modal","toggle","children","useEffect","window","addEventListener","handleKeyDown","style","overflow","removeEventListener","event","code","createPortal","className","s","Overlay","onClick","currentTarget","target","module","exports","Button","text","type","RightSideBar","date","customeDate","moment","format","notAllowedProducts","useSelector","authSelectors","getNotAllowedProducts","day","state","dailySelector","getRightSideBarRateByDay","console","log","getInfo","key","daySummary","sideBarContainer","characteristicBox","sideBarTitle","sideBarList","sideBarItem","sideBarItem_text","sideBarItem_span","notAllowedProductsBox","notAllowedProductsTitle","notAllowedProductsItems","slice","join","GoBack","ModalExit","ModalCloseSvgBack","href","spriter","axios","defaults","baseURL","_path","_path2","_path3","_path4","DiaryAddProductForm","isOpen","orMobile","submit","useState","value","setValue","products","setProducts","weight","setWeight","dispatch","useDispatch","getProduct","length","get","then","data","setProduct","e","a","preventDefault","getProductIdByName","requestData","productId","_id","dailyOperations","addProductByDay","find","item","title","ru","diaryProductForm","onSubmit","productInput","placeholder","list","onChange","id","map","weightInput","diaryProductFormBtn","_excluded","_extends","Object","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCalendar","_ref","svgRef","titleId","props","width","height","viewBox","fill","xmlns","ref","d","ForwardRef","DiaryDateСalendar","selectDate","styles","сalendar","datePicker","selected","dateFormat","datePickerLogo","DiaryProductsListItem","kcal","onDelete","itemProduct","DiaryProductsList","getDailyRateByDay","eatenProducts","deleteProductByDay","deleteProduct","eatenProductId","dayId","product","DiaryPage","Date","setDate","setIsOpen","prev","useMediaQuery","query","diaryPageWraper","dairyFormContainer","Menu","Close","RightSideBarContainer"],"mappings":"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","file":"static/js/7.f9aa109d.chunk.js","sourcesContent":["import React from \"react\";\nimport { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.scss\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nconst Modal = ({ toggle, children }) => {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    const body = document.querySelector(\"body\");\n    body.style.overflow = \"hidden\";\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      const body = document.querySelector(\"body\");\n      body.style.overflow = \"auto\";\n    };\n  });\n  const handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      toggle();\n    }\n  };\n  const backdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      toggle();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={backdropClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n};\n\nexport default Modal;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__bqE87\",\"Modal\":\"Modal_Modal__bq6xk\",\"ModalCloseSvg\":\"Modal_ModalCloseSvg__1VNfY\",\"ModalExit\":\"Modal_ModalExit__2tbec\",\"ModalCloseSvgBack\":\"Modal_ModalCloseSvgBack__3irFm\",\"button\":\"Modal_button__1BJxe\"};","import React from \"react\";\nimport s from \"./Button.module.scss\";\n\nconst Button = ({ onClick, text }) => {\n  return (\n    <button type=\"submit\" className={s.Button} onClick={onClick}>\n      {text}\n    </button>\n  );\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__ra12g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"GoBack_Overlay__2nbJN\",\"Modal\":\"GoBack_Modal__Cg_uX\",\"ModalCloseSvg\":\"GoBack_ModalCloseSvg__2KDpJ\",\"ModalExit\":\"GoBack_ModalExit__1YN0b\",\"ModalCloseSvgBack\":\"GoBack_ModalCloseSvgBack__33qrX\",\"button\":\"GoBack_button__29OCc\"};","import React from \"react\";\nimport style from \"./RightSideBar.module.scss\";\nimport {useSelector} from \"react-redux\";\nimport {dailySelector} from \"../../redux/daily\";\nimport {authSelectors} from \"../../redux/authorization\";\nimport moment from \"moment\";\n\nconst RightSideBar = ({date}) => {\n    const customeDate = moment(date).format(\"YYYY-MM-DD\");\n    const notAllowedProducts = useSelector(authSelectors.getNotAllowedProducts);\n    // const dailyRate = useSelector(dailySelector.getDailyRate);\n    // const kcalLeft = useSelector(dailySelector.getDailyKcalLeft);\n    // const date = useSelector(dailySelector.getDate);\n    const day = useSelector(state => dailySelector.getRightSideBarRateByDay(state, customeDate));\n    console.log(day)\n    \n    const getInfo = (key) => {\n        return day ? day.daySummary[key] : 0;\n    }\n\n    return (\n        <div className={style.sideBarContainer}>\n            <div className={style.characteristicBox}>\n                <p className={style.sideBarTitle}>Сводка за {moment(date).format(\"DD-MM-YYYY\")}</p>\n                <ul className={style.sideBarList}>\n                    <li className={style.sideBarItem}>\n                        <p className={style.sideBarItem_text}>\n                            Осталось\n                            <span className={style.sideBarItem_span}>{getInfo('kcalLeft') || getInfo('dailyRate') || 0}ккал</span>\n                        </p>\n                    </li>\n                    <li className={style.sideBarItem}>\n                        <p className={style.sideBarItem_text}>\n                            Употреблено\n                            <span className={style.sideBarItem_span}>{getInfo('kcalConsumed') || 0 } ккал</span>\n                        </p>\n                    </li>\n                    <li className={style.sideBarItem}>\n                        <p className={style.sideBarItem_text}>\n                            Дневная норма\n                            <span className={style.sideBarItem_span}>{getInfo('dailyRate') || 0} ккал</span>\n                        </p>\n                    </li>\n                    <li className={style.sideBarItem}>\n                        <p className={style.sideBarItem_text}>\n                            n% от нормы\n                            <span className={style.sideBarItem_span}>{getInfo('percentsOfDailyRate') || 0} ккал</span>\n                        </p>\n                    </li>\n                </ul>\n            </div>\n\n            <div className={style.notAllowedProductsBox}>\n                <p className={style.notAllowedProductsTitle}>\n                    Нерекомендуемые продукты\n                </p>\n                <p className={style.notAllowedProductsItems}>\n                    {notAllowedProducts.slice(0, 5).join(\", \")}\n                </p>\n            </div>\n        </div>\n    );\n};\n\nexport default RightSideBar;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideBarContainer\":\"RightSideBar_sideBarContainer__37FUp\",\"characteristicBox\":\"RightSideBar_characteristicBox__BSdWu\",\"sideBarTitle\":\"RightSideBar_sideBarTitle__32LG8\",\"sideBarList\":\"RightSideBar_sideBarList__20sWt\",\"sideBarItem\":\"RightSideBar_sideBarItem__3r4GA\",\"sideBarItem_text\":\"RightSideBar_sideBarItem_text__35MAV\",\"notAllowedProductsTitle\":\"RightSideBar_notAllowedProductsTitle___7XWM\",\"notAllowedProductsItems\":\"RightSideBar_notAllowedProductsItems__1AnCv\",\"notAllowedProductsBox\":\"RightSideBar_notAllowedProductsBox__2sLXr\"};","export default __webpack_public_path__ + \"static/media/sprite.1f403ba2.svg\";","import React from \"react\";\nimport s from \"../goBack/GoBack.module.scss\";\nimport spriter from \"../../images/modal/sprite.svg\";\nconst GoBack = ({ onClick }) => {\n  return (\n    <div className={s.ModalExit}>\n      <svg className={s.ModalCloseSvgBack} onClick={onClick}>\n        <use href={spriter + \"#exit\"} />\n      </svg>\n    </div>\n  );\n};\n\nexport default GoBack;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"diaryPageWraper\":\"DiaryPage_diaryPageWraper__1ME2x\",\"products\":\"DiaryPage_products__3iSY1\",\"dairyFormContainer\":\"DiaryPage_dairyFormContainer__2HXml\",\"RightSideBarContainer\":\"DiaryPage_RightSideBarContainer__3KWo5\",\"diaryProductFormBtn\":\"DiaryPage_diaryProductFormBtn__1ZN-m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"diaryProductForm\":\"DiaryAddProductForm_diaryProductForm__20I7-\",\"block\":\"DiaryAddProductForm_block__2sNyn\",\"productInput\":\"DiaryAddProductForm_productInput__2N5uv\",\"weightInput\":\"DiaryAddProductForm_weightInput__20C4F\",\"diaryProductFormBtn\":\"DiaryAddProductForm_diaryProductFormBtn__PMadu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"сalendar\":\"DiaryDateСalendar_сalendar__3BOpO\",\"datePicker\":\"DiaryDateСalendar_datePicker__3mfTc\",\"datePickerLogo\":\"DiaryDateСalendar_datePickerLogo__3OzKI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemProduct\":\"DiaryProductsListItem_itemProduct__oPQ3q\"};","import React, {useState} from \"react\";\nimport style from \"./DiaryAddProductForm.module.scss\";\nimport moment from \"moment\";\nimport {dailyOperations} from \"../../redux/daily\";\nimport {useDispatch} from \"react-redux\";\n\nimport axios from \"axios\";\n// import { useMediaQuery } from \"react-responsive\";\n// import Button from \"../button/Button\";\naxios.defaults.baseURL = \"https://slimmom-backend.goit.global\";\n\nconst DiaryAddProductForm = ({toggle, isOpen, orMobile, date, submit}) => {\n    const [value, setValue] = useState(\"\");\n    const [products, setProducts] = useState([]);\n    const [weight, setWeight] = useState(\"\");\n    const dispatch = useDispatch();\n    // const [id, setId] = useState(null);\n    // const [isOpen, setIsOpen] = useState(false);\n\n    const handleInput = (e) => {\n        const {value} = e.target;\n        getProduct(value)\n    }\n\n    const getProduct = (value) => {\n        setValue(value);\n\n        if (value.length < 3) {\n            return;\n        }\n\n        axios.get(`/product?search=${value}`).then(({data}) => {\n            setProducts(data);\n            // toggle();\n        });\n    };\n\n    const getWeight = (e) => {\n        const {value} = e.target;\n        setWeight(value);\n    };\n\n    const setProduct = async (e) => {\n        e.preventDefault();\n\n        const customeDate = moment(date).format(\"YYYY-MM-DD\");\n\n\n        if (getProductIdByName()) {\n            const requestData = {\n                date: customeDate,\n                productId: getProductIdByName()._id,\n                weight: weight,\n            };\n            dispatch(dailyOperations.addProductByDay(requestData));\n        }\n    };\n    const getProductIdByName = () => {\n        return products.find((item) => item.title.ru === value);\n    };\n\n    return (\n        <form className={style.diaryProductForm} onSubmit={setProduct}>\n            {/*<form className={style.diaryProductForm}>*/}\n            <label>\n                <input\n                    className={style.productInput}\n                    type=\"text\"\n                    placeholder=\"Введите название продукта\"\n                    list=\"produsts\"\n                    value={value}\n                    onChange={handleInput}\n                    // id=\"myBrowser\"\n                />\n            </label>\n            <datalist id=\"produsts\">\n                {products.map((item) => (\n                    <option key={item._id}>{item.title.ru}</option>\n                ))}\n            </datalist>\n            <label>\n                <input\n                    className={style.weightInput}\n                    type=\"text\"\n                    value={weight}\n                    onChange={getWeight}\n                    placeholder=\"Граммы\"\n                />\n            </label>\n\n            <button\n                type=\"submit\"\n                onClick={setProduct}\n                className={style.diaryProductFormBtn}\n            >\n                +\n            </button>\n\n            {/*{orMobile && !isOpen && (*/}\n            {/*    <button*/}\n            {/*        type=\"submit\"*/}\n            {/*        onClick={setProduct}*/}\n            {/*        className={style.diaryProductFormBtn}*/}\n            {/*    >*/}\n            {/*        +*/}\n            {/*    </button>*/}\n            {/*)}*/}\n        </form>\n    );\n};\n\nexport default DiaryAddProductForm;\n","var _path, _path2, _path3, _path4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCalendar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 20,\n    viewBox: \"0 0 18 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 9H12V11H14V9Z\",\n    fill: \"#9B9FAA\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 9H8V11H10V9Z\",\n    fill: \"#9B9FAA\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.00002 9H4V11H6.00002V9Z\",\n    fill: \"#9B9FAA\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 2.00001H15V0H13V2.00001H5.00001V0H3V2.00001H2.00001C0.890015 2.00001 0.0100313 2.90001 0.0100313 4.00003L0 18C0 19.1 0.890015 20 2.00001 20H16C17.1 20 18 19.1 18 18V3.99998C18 2.90001 17.1 2.00001 16 2.00001ZM16 18H2.00001V6.99998H16V18Z\",\n    fill: \"#9B9FAA\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCalendar);\nexport default __webpack_public_path__ + \"static/media/calendar.9200047a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport DatePicker from \"react-datepicker\";\nimport { ReactComponent as CalendarLogo } from \"../../images/calendar.svg\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport styles from \"./DiaryDateСalendar.module.scss\";\n// import {dailyOperations} from \"../../redux/daily\";\n// import {useDispatch} from \"react-redux\";\n\nconst DiaryDateСalendar = ({ selectDate, date }) => {\n  // const [startDate, setStartDate] = useState(new Date());\n  // const customeDate = moment(date).format(\"YYYY-MM-DD\");\n  // selectDate(customeDate);\n  // const dispatch = useDispatch();\n\n  // useEffect(() => {\n  //     dispatch(dailyOperations.fetchDayInfo({date: customeDate}))\n  // }, [startDate]);\n\n  return (\n    <div className={styles.сalendar}>\n      <label>\n        <DatePicker\n          className={styles.datePicker}\n          selected={date}\n          dateFormat=\"dd.MM.yyyy\"\n          onChange={(date) => selectDate(date)}\n        />\n        <CalendarLogo className={styles.datePickerLogo} />\n      </label>\n    </div>\n  );\n};\n\nexport default DiaryDateСalendar;\n","import style from \"./DiaryProductsListItem.module.scss\";\n\nconst DiaryProductsListItem = ({title, kcal, weight, onDelete, id}) => {\n    return (\n        <li className={style.itemProduct}>\n            <span>{title}</span>\n            <span>{weight}</span>\n            <span>{kcal}</span>\n            <button type=\"button\" onClick={() => onDelete(id)}>&#128736;</button>\n        </li>\n    );\n}\n\nexport default DiaryProductsListItem;","import React from \"react\";\nimport {useSelector} from \"react-redux\";\nimport {dailySelector} from \"../../redux/daily\";\nimport moment from \"moment\";\nimport DiaryProductsListItem from \"../DiaryProductsListItem/DiaryProductsListItem\";\nimport {dailyOperations} from \"../../redux/daily\";\nimport {useDispatch} from \"react-redux\";\n\nconst DiaryProductsList = ({date}) => {\n\n    const customeDate = moment(date).format(\"YYYY-MM-DD\");\n    const day = useSelector(state => dailySelector.getDailyRateByDay(state, customeDate));\n    console.log('day:', day )\n    const dispatch = useDispatch();\n    console.log(day ? day.eatenProducts : [])\n\nconst deleteProductByDay = (id) => {\n\n    const deleteProduct = {\n        eatenProductId: id,\n        dayId: day._id || day.id,\n    }\n\n        dispatch(dailyOperations.deleteProductByDay(deleteProduct))\n}\n\n    return (\n        <>\n            {day ?\n                (<ul>\n                    {day.eatenProducts.map(product => (\n                        <DiaryProductsListItem\n                            key={product.id}\n                            title={product.title}\n                            kcal={product.kcal}\n                            weight={product.weight}\n                            onDelete={deleteProductByDay}\n                            id={product.id}\n                        />\n                    ))}\n                </ul>)\n                :\n                []\n            }\n        </>\n\n    );\n}\n\nexport default DiaryProductsList;","import { useState } from \"react\";\nimport style from \"./DiaryPage.module.scss\";\nimport DiaryAddProductForm from \"../../components/diaryAddProductForm/DiaryAddProductForm\";\nimport DiaryDateСalendar from \"../../components/diaryDateСalendar/DiaryDateСalendar\";\nimport RightSideBar from \"../../components/rightSideBar/RightSideBar\";\n// import { useDispatch } from \"react-redux\";\nimport Modal from \"../../components/modal/Modal\";\nimport Button from \"../../components/button/Button\";\nimport { useMediaQuery } from \"react-responsive\";\nimport GoBack from \"../../components/goBack/GoBack\";\nimport Close from \"../../components/closeIcon/Close\";\nimport Menu from \"../../components/menu/Menu\";\nimport DiaryProductsList from \"../../components/diaryProductsList/DiaryProductsList\";\n\nexport default function DiaryPage() {\n    const [date, setDate] = useState(new Date());\n\n    const [isOpen, setIsOpen] = useState(false);\n    const toggle = () => {\n        setIsOpen((prev) => !prev);\n    };\n\n    const orMobile = useMediaQuery({ query: \"(max-width: 768px)\" });\n    // const orDesk = useMediaQuery({ query: \"(max-width: 1024px)\" });\n\n    return (\n        <div className={style.diaryPageWraper}>\n            <div className={style.products}>\n                <div className={style.dairyFormContainer}>\n                    <DiaryDateСalendar date={date} selectDate={setDate} />\n                    {!orMobile && <DiaryAddProductForm date={date} />}\n                    <DiaryProductsList date={date} />\n                    {/* {!isOpen && ( */}\n                    {/*<button*/}\n                    {/*    type=\"submit\"*/}\n                    {/*    onClick={toggle}*/}\n                    {/*    className={style.diaryProductFormBtn}*/}\n                    {/*>*/}\n                    {/*    +*/}\n                    {/*</button>*/}\n                    {/* )} */}\n                    {isOpen && orMobile && (\n                        <Modal toggle={toggle}>\n                            {orMobile ? (\n                                <>\n                                    <GoBack onClick={toggle} />\n                                    <Menu />\n                                </>\n                            ) : (\n                                <Close toggle={toggle} />\n                            )}\n                            <DiaryAddProductForm\n                                orMobile={orMobile}\n                                isOpen={isOpen}\n                                toggle={toggle}\n                            />\n                            <Button\n                                onClick={() => console.log(\"Add product\")}\n                                text=\"Добавить\"\n                            />\n                        </Modal>\n                    )}\n                </div>\n            </div>\n\n            <div className={style.RightSideBarContainer}>\n                <RightSideBar date={date} />\n            </div>\n        </div>\n    );\n}\n"],"sourceRoot":""}