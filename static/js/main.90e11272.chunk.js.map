{"version":3,"sources":["components/authNavigation/AuthNavigation.module.scss","components/navigation/Navigation.module.scss","redux/authorization/operations.js","components/header/Header.module.scss","components/container/Container.module.scss","redux/authorization/selectors.js","redux/authorization/slice.js","redux/store.js","routes/PublicRoute.js","routes/PrivateRoute.js","components/authNavigation/AuthNavigation.js","components/navigation/Navigation.js","components/menu/Menu.js","components/header/Header.js","components/container/Container.js","components/App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","a","username","email","password","rejectWithValue","post","data","accessToken","message","logIn","credentials","logOut","refreshAccessToken","_","getState","state","refreshToken","auth","sid","refreshUserData","get","rateDailyUser","console","log","id","user","operations","authSelectors","getIsLoggedIn","isLoggedIn","getUserName","getIsRefreshingUser","isRefreshingUser","getUserId","authPersistConfig","key","storage","userPersistConfig","userSlice","createSlice","name","initialState","todaySummary","userData","date","error","extraReducers","authOperations","fulfilled","action","payload","days","daySummary","rejected","dailyRate","summaries","notAllowedProducts","authSlice","pending","isRefreshingToken","persistedUserReducer","persistReducer","reducer","persistedAuthReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","persistor","persistStore","PublicRoute","children","restricted","redirectTo","routeProps","shouldRedirect","useSelector","to","PrivateRoute","AuthNavigation","className","style","AuthNavigationBox","authNav","activeClassName","activeNav","exact","Navigation","nav","navLink","Menu","dispatch","useDispatch","userName","userWrapper","logBtn","type","onClick","Header","headerWrapper","headerContainer","Container","MainPage","lazy","RegistrationPage","LoginPage","DiaryPage","CalculatorPage","App","IsLoggedIn","useEffect","fallback","path","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.90e11272.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"AuthNavigationBox\":\"AuthNavigation_AuthNavigationBox__qgGBG\",\"authNav\":\"AuthNavigation_authNav__1tubr\",\"activeNav\":\"AuthNavigation_activeNav__3Pxvj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"Navigation_navLink__3TxyP\"};","import axios from \"axios\";\nimport {createAsyncThunk} from \"@reduxjs/toolkit\";\n\naxios.defaults.baseURL = \"https://slimmom-backend.goit.global\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst register = createAsyncThunk(\n    \"auth/register\",\n    async ({username, email, password}, {rejectWithValue}) => {\n        try {\n            await axios.post(\"/auth/register\", {\n                username,\n                email,\n                password,\n            });\n            const {data} = await axios.post(\"/auth/login\", {\n                email,\n                password,\n            });\n            token.set(data.accessToken);\n            return data;\n        } catch (error) {\n            return rejectWithValue(error.message);\n        }\n    }\n);\n\nconst logIn = createAsyncThunk(\n    \"auth/login\",\n    async (credentials, {rejectWithValue}) => {\n        try {\n            const {data} = await axios.post(\"/auth/login\", credentials);\n            token.set(data.accessToken);\n            return data;\n        } catch (error) {\n            return rejectWithValue(error.message);\n        }\n    }\n);\n\nconst logOut = createAsyncThunk(\n    \"auth/logout\",\n    async (credentials, {rejectWithValue}) => {\n        try {\n            await axios.post(\"/auth/logout\", credentials);\n            token.unset();\n        } catch (error) {\n            return rejectWithValue(error.message);\n        }\n    }\n);\n\nconst refreshAccessToken = createAsyncThunk(\n    \"auth/refresh\",\n    async (_, {rejectWithValue, getState}) => {\n        const state = getState();\n        const refreshToken = state.auth.refreshToken;\n        const sid = state.auth.sid;\n\n        if (refreshToken === null) {\n            return rejectWithValue();\n        }\n        token.set(refreshToken);\n        try {\n            const {data} = await axios.post(\"/auth/refresh\", {sid});\n            return data;\n        } catch (error) {\n            return rejectWithValue(error.message);\n        }\n    }\n);\n\nconst refreshUserData = createAsyncThunk(\n    \"/user/refresh\",\n    async (_, {rejectWithValue, getState}) => {\n        const state = getState();\n        const accessToken = state.auth.accessToken;\n        token.set(accessToken);\n        try {\n            const {data} = await axios.get(\"/user\");\n            return data;\n        } catch (error) {\n            return rejectWithValue(error.message);\n        }\n    }\n);\n\nconst rateDailyUser = createAsyncThunk(\n    \"/user/rateDaily\",\n    async (credentials, {rejectWithValue, getState}) => {\n        const state = getState();\n        console.log(state)\n        console.log('LOG с ID')\n\n        const id = state.user.id;\n        const accessToken = state.auth.accessToken;\n        token.set(accessToken);\n\n        try {\n            const {data} = await axios.post(`/daily-rate/${id}`, credentials);\n            console.log(credentials)\n            return data;\n        } catch (error) {\n            return rejectWithValue(error.message);\n        }\n    }\n);\n\n// export const rateDailyUser = (values) => async (dispatch, getState) => {\n//     dispatch(updateCalculatorRequest());\n//     try {\n//         const data = transformString(values);\n//         const userId = getUserId(getState());\n//         const state = getState();\n//         const accessToken = state.auth.accessToken;\n//         token.set(accessToken);\n//         const res = await axios.post(`${BASE_URL}/daily-rate/${userId}`, data);\n//\n//         dispatch(updateCalculatorSuccess(res.data));\n//     } catch (error) {\n//         dispatch(updateCalculatorError());\n//     }\n// };\n\n\nconst operations = {\n    register,\n    logOut,\n    logIn,\n    refreshAccessToken,\n    refreshUserData,\n    rateDailyUser,\n};\nexport default operations;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrapper\":\"Header_headerWrapper__3c7PT\",\"headerContainer\":\"Header_headerContainer__3ccm2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__1jnYA\"};","const getIsLoggedIn = (state) => state.user.isLoggedIn;\nconst getUserName = (state) => state.user.username;\nconst getUserId = (state) => state.user.id;\nconst getIsRefreshingUser = (state) => state.auth.isRefreshingUser;\n\nconst authSelectors = {\n    getIsLoggedIn,\n    getUserName,\n    getIsRefreshingUser,\n    getUserId,\n};\n\nexport default authSelectors;","import { createSlice } from \"@reduxjs/toolkit\";\nimport authOperations from \"./operations\";\nimport { persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\n\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n};\n\nconst userPersistConfig = {\n  key: \"user\",\n  storage,\n};\n\nconst initialState = {\n  // user: { username: null, email: null, id: null },\n  accessToken: null,\n  refreshToken: null,\n  sid: null,\n  // isLoggedIn: false,\n  // todaySummary: null,\n  // userData: null,\n  error: null,\n};\n\nconst initialUserState = {\n  username: null,\n  email: null,\n  id: null,\n  todaySummary: null,\n  userData: null,\n  isLoggedIn: false,\n  date: null,\n  error: null,\n  // notAllowedProducts: [],\n  // date: \"2020-12-31\",\n  // kcalLeft: 0,\n  // kcalConsumed: 0,\n  // percentsOfDailyRate: 0,\n};\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState: initialUserState,\n  extraReducers: {\n    [authOperations.refreshUserData.fulfilled](state, action) {\n      state.todaySummary = action.payload.days.daySummary;\n      state.date = action.payload.days.date;\n      state.userData = action.payload.userData;\n      state.username = action.payload.username;\n      state.email = action.payload.email;\n      state.id = action.payload.id;\n      state.isLoggedIn = true;\n    },\n    [authOperations.refreshUserData.rejected](state) {\n      state.username = null;\n      state.email = null;\n      state.id = null;\n      state.todaySummary = null;\n      state.userData = null;\n      state.isLoggedIn = false;\n    },\n\n    [authOperations.register.fulfilled](state, action) {\n      state.date = action.payload.todaySummary.date;\n      state.todaySummary = action.payload.todaySummary;\n      state.userData = action.payload.user.userData;\n      state.username = action.payload.user.username;\n      state.email = action.payload.user.email;\n      state.id = action.payload.user.id;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.date = action.payload.todaySummary.date;\n      state.todaySummary = action.payload.todaySummary;\n      state.userData = action.payload.user.userData;\n      state.username = action.payload.user.username;\n      state.email = action.payload.user.email;\n      state.id = action.payload.user.id;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logOut.fulfilled](state) {\n      state.username = null;\n      state.email = null;\n      state.id = null;\n      state.todaySummary = null;\n      state.userData = null;\n      state.isLoggedIn = false;\n      state.date = null;\n    },\n    [authOperations.logOut.rejected](state) {\n      state.username = null;\n      state.email = null;\n      state.id = null;\n      state.todaySummary = null;\n      state.userData = null;\n      state.isLoggedIn = false;\n      state.date = null;\n    },\n    [authOperations.refreshAccessToken.rejected](state) {\n      state.username = null;\n      state.email = null;\n      state.id = null;\n      state.todaySummary = null;\n      state.userData = null;\n      state.isLoggedIn = false;\n      state.date = null;\n    },\n    [authOperations.refreshAccessToken.fulfilled](state) {\n      state.isLoggedIn = true;\n    },\n    [authOperations.rateDailyUser.fulfilled](state, action) {\n      state.userData.dailyRate = action.payload.dailyRate;\n      state.todaySummary = action.payload.summaries;\n      state.userData.notAllowedProducts = action.payload.notAllowedProducts;\n\n\n      // state.userData = action.payload.userData;\n      // state.username = action.payload.username;\n      // state.email = action.payload.email;\n      // state.id  = action.payload.id;\n      // state.isLoggedIn = true;\n    },\n  },\n});\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  extraReducers: {\n    [authOperations.register.pending](state) {\n      state.error = null;\n    },\n    [authOperations.register.fulfilled](state, action) {\n      // state.username = action.payload.user.username;\n      // state.email = action.payload.user.email;\n      // state.id = action.payload.user.id;\n      state.accessToken = action.payload.accessToken;\n      state.refreshToken = action.payload.refreshToken;\n      state.sid = action.payload.sid;\n      // state.todaySummary = action.payload.todaySummary;\n      // state.userData = action.payload.user.userData;\n      // state.isLoggedIn = true;\n    },\n    [authOperations.register.rejected](state, action) {\n      state.error = action.payload;\n    },\n    [authOperations.logIn.pending](state) {\n      state.error = null;\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      // state.username = action.payload.user.username;\n      // state.email = action.payload.user.email;\n      // state.id = action.payload.user.id;\n      state.accessToken = action.payload.accessToken;\n      state.refreshToken = action.payload.refreshToken;\n      state.sid = action.payload.sid;\n      // state.todaySummary = action.payload.todaySummary;\n      // state.userData = action.payload.user.userData;\n      // state.isLoggedIn = true;\n    },\n    [authOperations.logIn.rejected](state, action) {\n      state.error = action.payload;\n    },\n    [authOperations.logOut.pending](state) {\n      state.error = null;\n    },\n    [authOperations.logOut.fulfilled](state) {\n      // state.username = null;\n      // state.email = null;\n      // state.id = null;\n      state.accessToken = null;\n      state.refreshToken = null;\n      state.sid = null;\n      // state.todaySummary = null;\n      // state.userData = null;\n      // state.isLoggedIn = false;\n    },\n    [authOperations.logOut.rejected](state, action) {\n      // state.username = null;\n      // state.email = null;\n      // state.id = null;\n      state.accessToken = null;\n      state.refreshToken = null;\n      state.sid = null;\n      // state.todaySummary = null;\n      // state.userData = null;\n      // state.isLoggedIn = false;\n      state.error = action.payload;\n    },\n    [authOperations.refreshAccessToken.pending](state) {\n      state.error = null;\n    },\n    [authOperations.refreshAccessToken.fulfilled](state, action) {\n      state.accessToken = action.payload.accessToken;\n      state.refreshToken = action.payload.refreshToken;\n      state.sid = action.payload.sid;\n      // state.isLoggedIn = true;\n      state.isRefreshingToken = false;\n    },\n    [authOperations.refreshAccessToken.rejected](state, action) {\n      // state.username = null;\n      // state.email = null;\n      // state.id = null;\n      state.accessToken = null;\n      state.refreshToken = null;\n      state.sid = null;\n      // state.todaySummary = null;\n      // state.userData = null;\n      // state.isLoggedIn = false;\n      state.error = action.payload;\n    },\n  },\n});\n\nexport const persistedUserReducer = persistReducer(\n  userPersistConfig,\n  userSlice.reducer\n);\nexport const persistedAuthReducer = persistReducer(\n  authPersistConfig,\n  authSlice.reducer\n);\n\n// const authRedusers = combineReducers({\n//   user: persistedUserReducer,\n//   auth: persistedAuthReducer,\n// });\n\n// export default authRedusers;\n// export authSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport {\n  persistStore,\n  //   persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\n// import logger from \"redux-logger\";\n// import storage from \"redux-persist/lib/storage\";\n// import { contactsReducer } from \"./phonebook\";\n// import { authReducer } from \"./authorization\";\nimport {\n  persistedAuthReducer,\n  persistedUserReducer,\n} from \"./authorization/slice\";\n\nconst middleware = (getDefaultMiddleware) =>\n  getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  });\n// .concat(logger);\n\nconst store = configureStore({\n  reducer: {\n    user: persistedUserReducer,\n    auth: persistedAuthReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === \"development\",\n});\n\nconst persistor = persistStore(store);\n\nexport { store, persistor };\n","import { useSelector } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/authorization\";\n\nexport default function PublicRoute({ children, restricted = false, redirectTo = \"/\", ...routeProps }) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n  return <Route {...routeProps}>{shouldRedirect ? <Redirect to={redirectTo} /> : children}</Route>;\n}\n","import { useSelector } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/authorization\";\n\nexport default function PrivateRoute({ children, redirectTo = \"/\", ...routeProps }) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return <Route {...routeProps}>{isLoggedIn ? children : <Redirect to={redirectTo} />}</Route>;\n}\n","import { NavLink } from \"react-router-dom\";\nimport style from \"./AuthNavigation.module.scss\";\n\nconst AuthNavigation = () => {\n  return (\n    <div className={style.AuthNavigationBox}>\n      <NavLink\n        className={style.authNav}\n        activeClassName={style.activeNav}\n        to=\"/login\"\n        exact\n      >\n        Вход\n      </NavLink>\n      <NavLink\n        className={style.authNav}\n        activeClassName={style.activeNav}\n        to=\"/register\"\n        exact\n      >\n        Регистрация\n      </NavLink>\n    </div>\n  );\n};\n\nexport default AuthNavigation;\n","import { useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { authSelectors } from \"../../redux/authorization\";\nimport Logo from \"../logo/Logo\";\nimport style from \"./Navigation.module.scss\";\n\nconst Navigation = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav className={style.nav}>\n      {isLoggedIn && (\n        <>\n          <NavLink\n            className={style.navLink}\n            activeClassName={style.activeNav}\n            to=\"/diary\"\n            exact\n          >\n            Дневник\n          </NavLink>\n          <NavLink\n            className={style.navLink}\n            activeClassName={style.activeNav}\n            to=\"/calculator\"\n            exact\n          >\n            Калькулятор\n          </NavLink>\n        </>\n      )}\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { authOperations, authSelectors } from \"../../redux/authorization\";\nimport style from \"./Menu.module.scss\";\n\nconst Menu = () => {\n  const dispatch = useDispatch();\n  const userName = useSelector(authSelectors.getUserName);\n  const logout = () => {\n    dispatch(authOperations.logOut());\n  };\n  return (\n    <div className={style.userWrapper}>\n      <span className={style.userName}>{userName}</span>\n\n      <button className={style.logBtn} type=\"button\" onClick={logout}>\n        logout\n      </button>\n    </div>\n  );\n};\n\nexport default Menu;\n","import { useSelector } from \"react-redux\";\nimport { authSelectors } from \"../../redux/authorization\";\nimport AuthNavigation from \"../authNavigation/AuthNavigation\";\nimport Navigation from \"../navigation/Navigation\";\nimport Menu from \"../menu/Menu\";\nimport style from \"./Header.module.scss\";\n// import Logo from \"../logo/Logo\";\n\nexport default function Header() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <header className={style.headerWrapper}>\n      <div className={style.headerContainer}>\n        <Navigation /> {isLoggedIn ? <Menu /> : <AuthNavigation />}\n      </div>\n    </header>\n  );\n}\n","import React from 'react';\nimport style from \"./Container.module.scss\";\n\nconst Container = ({children}) => {\n    return (\n        <div className={style.Container}>\n            {children}\n        </div>\n    );\n}\n\nexport default Container;","import { lazy, Suspense, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { authSelectors, authOperations } from \"../redux/authorization\";\nimport PublicRoute from \"../routes/PublicRoute\";\nimport PrivateRoute from \"../routes/PrivateRoute\";\nimport { Redirect, Switch } from \"react-router\";\nimport Header from \"./header/Header\";\nimport Container from \"./container/Container\";\n// import Loader from \"react-loader-spinner\";\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst MainPage = lazy(\n  () =>\n    import(\"../pages/mainPage/MainPage.js\") /*webpackChunkName: 'MainPage' */\n);\nconst RegistrationPage = lazy(\n  () =>\n    import(\n      \"../pages/registrationPage/RegistrationPage.js\"\n    ) /*webpackChunkName: 'RegistrationPage' */\n);\nconst LoginPage = lazy(\n  () =>\n    import(\"../pages/loginPage/LoginPage.js\") /*webpackChunkName: 'LoginPage' */\n);\nconst DiaryPage = lazy(\n  () =>\n    import(\"../pages/diaryPage/DiaryPage.js\") /*webpackChunkName: 'DiaryPage' */\n);\nconst CalculatorPage = lazy(\n  () =>\n    import(\n      \"../pages/calculatorPage/CalculatorPage.js\"\n    ) /*webpackChunkName: 'CalculatorPage' */\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isRefreshingUser = useSelector(authSelectors.getIsRefreshingUser);\n  const IsLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  useEffect(() => {\n    IsLoggedIn && dispatch(authOperations.refreshUserData());\n  }, [dispatch]);\n\n  return (\n    !isRefreshingUser && (\n      <Container>\n        <Header />\n        <Switch>\n          <Suspense\n            fallback={\n              <div>\n                loader\n                {/* <Loader\n                  className=\"Loader\"\n                  type=\"ThreeDots\"\n                  color=\"#00BFFF\"\n                  height={20}\n                  width={100}\n                  timeout={3000}\n                /> */}\n              </div>\n            }\n          >\n            <PublicRoute exact path=\"/\">\n              <MainPage />\n            </PublicRoute>\n\n            <PublicRoute path=\"/register\" restricted>\n              <RegistrationPage />\n            </PublicRoute>\n\n            <PublicRoute path=\"/login\" restricted redirectTo=\"/diary\">\n              <LoginPage />\n            </PublicRoute>\n\n            <PrivateRoute path=\"/diary\" restricted redirectTo=\"/login\">\n              <DiaryPage />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/calculator\" restricted redirectTo=\"/login\">\n              <CalculatorPage />\n            </PrivateRoute>\n            <Redirect to=\"/\" />\n          </Suspense>\n        </Switch>\n      </Container>\n    )\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { store, persistor } from \"./redux/store\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <PersistGate loading={<h2>...loading</h2>} persistor={persistor}>\n                <BrowserRouter>\n                    <App />\n                </BrowserRouter>\n            </PersistGate>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}