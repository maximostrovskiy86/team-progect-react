(this["webpackJsonpteam-progect-react"]=this["webpackJsonpteam-progect-react"]||[]).push([[1],{16:function(e,t,r){e.exports={navLink:"Navigation_navLink__3TxyP"}},18:function(e,t,r){e.exports={AuthNavigationBox:"AuthNavigation_AuthNavigationBox__qgGBG",authNav:"AuthNavigation_authNav__1tubr",activeNav:"AuthNavigation_activeNav__3Pxvj"}},29:function(e,t,r){},30:function(e,t,r){e.exports={headerWrapper:"Header_headerWrapper__3c7PT",headerContainer:"Header_headerContainer__3ccm2"}},48:function(e,t,r){},5:function(e,t,r){"use strict";r.d(t,"b",(function(){return x})),r.d(t,"c",(function(){return O})),r.d(t,"a",(function(){return p}));var a=r(4),n=r(13),c=r(14),s=r.n(c),u=r(20),i=r(11),o=r.n(i);o.a.defaults.baseURL="https://slimmom-backend.goit.global";var l,d=function(e){o.a.defaults.headers.common.Authorization="Bearer ".concat(e)},j=function(){o.a.defaults.headers.common.Authorization=""},A=Object(n.b)("auth/register",function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,n,c,u,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.email,c=t.password,u=r.rejectWithValue,e.prev=2,e.next=5,o.a.post("/auth/register",{username:a,email:n,password:c});case 5:return e.next=7,o.a.post("/auth/login",{email:n,password:c});case 7:return i=e.sent,l=i.data,d(l.accessToken),e.abrupt("return",l);case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",u(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}()),h=Object(n.b)("auth/login",function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.rejectWithValue,e.prev=1,e.next=4,o.a.post("/auth/login",t);case 4:return n=e.sent,c=n.data,d(c.accessToken),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",a(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}()),b=Object(n.b)("auth/logout",function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.rejectWithValue,e.prev=1,e.next=4,o.a.post("/auth/logout",t);case 4:j(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",a(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()),f=Object(n.b)("auth/refresh",function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,n,c,u,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.rejectWithValue,n=r.getState,c=n(),null!==(u=c.auth.accessToken)){e.next=5;break}return e.abrupt("return",a());case 5:return d(u),e.prev=6,e.next=9,o.a.post("/auth/refresh");case 9:return i=e.sent,l=i.data,e.abrupt("return",l);case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",a(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,r){return e.apply(this,arguments)}}()),p={register:A,logOut:b,logIn:h,refreshUser:f},x=Object(n.c)({name:"auth",initialState:{user:{username:null,email:null,id:null},accessToken:null,refreshToken:null,sid:null,isLoggedIn:!1,todaySummary:null,userData:null,isRefreshingUser:!1,error:null},extraReducers:(l={},Object(a.a)(l,p.register.pending,(function(e){e.error=null})),Object(a.a)(l,p.register.fulfilled,(function(e,t){e.user.username=t.payload.user.username,e.user.email=t.payload.user.email,e.user.id=t.payload.user.id,e.accessToken=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.sid=t.payload.sid,e.todaySummary=t.payload.todaySummary,e.userData=t.payload.user.userData,e.isLoggedIn=!0})),Object(a.a)(l,p.register.rejected,(function(e,t){e.error=t.payload})),Object(a.a)(l,p.logIn.pending,(function(e){e.error=null})),Object(a.a)(l,p.logIn.fulfilled,(function(e,t){e.user.username=t.payload.user.username,e.user.email=t.payload.user.email,e.user.id=t.payload.user.id,e.accessToken=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.sid=t.payload.sid,e.todaySummary=t.payload.todaySummary,e.userData=t.payload.user.userData,e.isLoggedIn=!0})),Object(a.a)(l,p.logIn.rejected,(function(e,t){e.error=t.payload})),Object(a.a)(l,p.logOut.pending,(function(e){e.error=null})),Object(a.a)(l,p.logOut.fulfilled,(function(e){e.user.username=null,e.user.email=null,e.user.id=null,e.accessToken=null,e.refreshToken=null,e.sid=null,e.todaySummary=null,e.userData=null,e.isLoggedIn=!1})),Object(a.a)(l,p.logOut.rejected,(function(e,t){e.user.username=null,e.user.email=null,e.user.id=null,e.accessToken=null,e.refreshToken=null,e.sid=null,e.todaySummary=null,e.userData=null,e.isLoggedIn=!1,e.error=t.payload})),Object(a.a)(l,p.refreshUser.pending,(function(e){e.isRefreshingUser=!0})),Object(a.a)(l,p.refreshUser.fulfilled,(function(e,t){e.accessToken=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.sid=t.payload.sid,e.isLoggedIn=!0,e.isRefreshingUser=!1})),Object(a.a)(l,p.refreshUser.rejected,(function(e){e.isRefreshingUser=!1})),l)}).reducer,O={getIsLoggedIn:function(e){return e.auth.isLoggedIn},getUserName:function(e){return e.auth.user.username},getIsRefreshingUser:function(e){return e.auth.isRefreshingUser}}},79:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(21),s=r.n(c),u=(r(48),r(10)),i=r(3),o=r(40),l=r(13),d=r(15),j=r(41),A=r.n(j),h=r(5),b={key:"auth",storage:A.a},f=Object(l.a)({reducer:{auth:Object(d.g)(b,h.b)},middleware:function(e){return e({serializableCheck:{ignoredActions:[d.a,d.f,d.b,d.c,d.d,d.e]}})},devTools:!1}),p=Object(d.h)(f),x=r(12),O=r(24),v=r(2),g=r(1),m=["children","restricted","redirectTo"];function B(e){var t=e.children,r=e.restricted,a=void 0!==r&&r,n=e.redirectTo,c=void 0===n?"/":n,s=Object(O.a)(e,m),u=Object(i.c)(h.c.getIsLoggedIn)&&a;return Object(g.jsx)(v.b,Object(x.a)(Object(x.a)({},s),{},{children:u?Object(g.jsx)(v.a,{to:c}):t}))}var E=["children","redirectTo"];function Q(e){var t=e.children,r=e.redirectTo,a=void 0===r?"/":r,n=Object(O.a)(e,E),c=Object(i.c)(h.c.getIsLoggedIn);return Object(g.jsx)(v.b,Object(x.a)(Object(x.a)({},n),{},{children:c?t:Object(g.jsx)(v.a,{to:a})}))}var w=r(18),y=r.n(w),k=function(){return Object(g.jsxs)("div",{className:y.a.AuthNavigationBox,children:[Object(g.jsx)(u.b,{className:y.a.authNav,activeClassName:y.a.activeNav,to:"/login",exact:!0,children:"\u0412\u0445\u043e\u0434"}),Object(g.jsx)(u.b,{className:y.a.authNav,activeClassName:y.a.activeNav,to:"/register",exact:!0,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})},N=function(){return Object(g.jsx)("img",{srcset:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAAsAC8DAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/igAoADzx6+hx+o5H1FAHI+BvFVp4y8NWutWkqStHf694f1PynWSOHxF4Q1/U/CXii0jlRI1lSx8R6Hqtmsoih8wQB/Jh3eWoB11ADdyligZS6qrMuRuVXLBWK9QrFHCkjDFGAztOABJJI4keWV0jjjVnkkkZUREUZZ3diFVVAJZmIAAyTiplKMIynOUYQinKUpNRjGKV3KUnZJJatt2SDbV6Jatn5XftA/tReKvgb8TU1b4bfGzwJ8ZdL8Ra1CNW+BE+l6vr3iPRoVtvLktfCfiPwJY61aWd9J9nEdnpfiB9DSK4uI7u9j1hpZ56/jvj7xSzLw+40rZjw14n5Jxvgs6zGnLGeG2IwuIzfG5bGNCNJ4fIcy4eo4yODrSVFRo4LHTwNONaqsTiqWPq1a1aXw+cZ5icsxcZ4LHYTMYVaiVTLHCrUr01azVGthYVYqbatGFZ0rNpy9pds808Q/8FY/EHh/UvGUOufs+6R4Ki8BaAmvap4T8b/GXSNN+MXia6u0WLQfBXgj4UjwvHrus+PPFus3GmeH/AA5oKyu0l7rOmXepSafp8zTr9Twl9IDO+LeNMLwo+B8BwoufDTx64r4xwWXZ/Tw1b35rCcNVMvo4/EY5Uk508IpczhKnWrOjSmpEYDjDFY/NoZY8sw+XtODrLH5pRpYyMJav2eC9iqk6qjqqSlezUpcsXc/Sf9mH4feJ/hf8AfhZ4N8dSWk/xDtfC8GtfE240+QS6fdfFLxhc3PjH4m3enyBnVtPu/HuveIrixKsV+yyxbflwK/p0+7PdyQoLHOACTgEnAGTgAEk+wBJ7CgD4+/ZB+K1j47/AGcfg58cvF2qx6ZrH7VFjB8Z7GHVLhYxap8TNCuPHvg7wRHMAlmkngb4V2Oi+FIWItpdQtvB82oXYl1W5vZZuPFY/B4GWFhjMTSwzxteWFwrrS5I1sRHDYjGOjGb9xT+rYXEVkpSjzQoztdqxlUrUqLpqrOMHVm6dPmdlKapzquKb0v7OnUlq1dRdjQ179krw54313W9U+Ifj34heL9J1LWr/U7Hwpc+ItQj0LTbS6vJrm10oRXl1qcsltp8ci29ubOTTQiRJ5ccajbX4BmH0d8BxJnWb5lxnx3xtxFluOzbG4/A8OSzbE4bKcuwmJxVWvh8taxGIzGvWo4KnONCjPC1MutCnFxpwXunnVcooYic5YmtiK0JTlJUpVZezim7qKTctI7K3L0PaPAfwc+F3wwjCeA/Avhzw3N5PkPqNlp8T6zcQ4AMd1rdyJ9WukOMlbi9kXJJxkmv1nhXw84J4JpxhwvwzlOUVFT9lLGUMNGpmNanp7uIzPEe2zDEJ2u1WxM03rY68NgcHhP92w1Gk7Wc4wXO12dR3m/nJn4sfFfwt4y/4KW/tXfEXV/hn4c+E3iT9nz9gvxDr/wRutH+JaeLtG0r9qL49674euB8V/DNv8VPh/fReJ/h7onwAju9B0XRdSHhrx/pDfEPWte1ebw1qE+k6Rd6RXFnAHBfHOHjh+LOG8rzpU4OnRr4mhyY/DQbbccJmWHdHMMJFtuTWGxNJSl7zTaTOfMslyrN4KGZYHD4uy5YzqQtWprV2p14ONamru7UKkbvVnkFr+0R+yb8O/iRc/s0/Hn9qT9uX/gm58Z7KKKO1+Fnxe+Mn9s/BvUtEvB9lsNe+Gfxl1DSPGfgDWPAd8qSw6TrOo+L/B18t5BqFhqWiWGr6Xe2Vp8A/BGjhIKlw/4meLPD2Gp2VDAYXjCWYZdh4JJRpUcPnGCzCrCnFK0YRxKWr5ubS3i/6pRpLlwWf8SYGEfgo08zdahBLaMaeKpVpKK6JVEu9z9Ovhp+yxqGt+FNBvPBf/BQb9pTxt4CTTrKy0HVvB3jz4Wa1YXemWVtDb2q23iuLwR4j/tHFqkIN59ruLibPnyzySyGQ7UPCbiCLtiPGjxRrU/5aOM4doVLdvaz4fxEvmkmVDhvGr+JxVxDKPaNXBQf/gTwc2vkYn7J37K/wx+HPivxV8OfF8nivx34u/Zx1p7L4SWvj7xvrXiPw5oHwL+Iem6oPhjrvhH4cvdxeB/DPlaNB4u+D9/qNj4bs5r/AFz4ZeLLzS4dL0vUIrJfoMq8LOHsBmOFzjM8fxLxdmmAjWWAxfGHEGOzulgZYmhPDYmrgssnKjk2Gr16FSpRnXo5bCsqc5wpzhCcovtw/DuBo16eKxFbH5niKKl7GpmeNrYuNF1IOnUlSw7cMLTnOEnFzjQUuVtJpNp/pjX6Se8FAH5M/wDBD3Q20f8A4Jn/AAEvb8SSeK/FWvfHPxb4/vbgu1/qHj3WPj78Tv8AhJ5tTkkAlkvrO9t/7IkMo81ItMhhlZ5I2kYA+aP+Dh79iPTv2sv2RPBPiXwxolhL8c/hv8cPg54P+GmuSgQTz2v7QXxT8F/BC/8ACOo3iQTzL4f1LxL408H6/dbYpJbS78N208GI5L2G6AMb9i3/AIN4PgF+ylo2i69dftHftXXfxjmsLNvGHij4RfGfxB8CPCtxqapG93Z6Do/w9TS/EjaCJlEaweJ/FevTX0cSyzx2scpsIQD9qPAfwT074eeJNG1zTfE3jLxJLZeC9Z8H6rq/j7xVqvjHxXrltNrXh/V/Da6p4g1Zpr7Ubfw29r4oOmreXDtZz+K9YlgBfU752APbqACgD4q/Zc8Et+z/AOOvjr+zytqLHwVqfxH8ZftF/AsiWJbWfwX8afEUvi34seFNOtt6uk/w5+OmveLLy9s7WAWGkeEPiZ8MY1kNxqEkMIB6n+014cbxT8N/D2nLGJfsXx+/ZP8AE7KTjCeCv2pvg34ykk+sMegtMB3KAZGc0AfQVABQAUAFAGJqPhzRtV1Xw9rl9ZLLq3ha7v7zQ75XlhuLN9U0u70fUYC8Lxm5sbyzu2Nxp9z51jLeWum6g9ub/StOuLUAPEGnW2qafFa3al4V1jw7ehRj/X6Z4h0vUrU/MrDC3VpCxwA2AdrK2GABt0AFAAD/2Q==",alt:"logo",width:"47",height:"44"})},L=r(16),T=r.n(L),I=function(){var e=Object(i.c)(h.c.getIsLoggedIn);return Object(g.jsxs)("nav",{className:T.a.nav,children:[Object(g.jsx)(u.b,{className:T.a.navLogo,activeClassName:T.a.activeNav,to:"/",exact:!0,children:Object(g.jsx)(N,{})}),e&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(u.b,{className:T.a.navLink,activeClassName:T.a.activeNav,to:"/diary",exact:!0,children:"\u0414\u043d\u0435\u0432\u043d\u0438\u043a"}),Object(g.jsx)(u.b,{className:T.a.navLink,activeClassName:T.a.activeNav,to:"/calculator",exact:!0,children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440"})]})]})},G=r(29),W=r.n(G),H=function(){var e=Object(i.b)();return Object(g.jsx)("div",{className:W.a.userWrapper,children:Object(g.jsx)("button",{className:W.a.logBtn,type:"button",onClick:function(){e(h.a.logOut())},children:"logout"})})},J=r(30),P=r.n(J);function R(){var e=Object(i.c)(h.c.getIsLoggedIn);return Object(g.jsx)("header",{className:P.a.headerWrapper,children:Object(g.jsxs)("div",{className:P.a.headerContainer,children:[Object(g.jsx)(I,{})," ",e?Object(g.jsx)(H,{}):Object(g.jsx)(k,{})]})})}var U=Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(9),r.e(4)]).then(r.bind(null,97))})),D=Object(a.lazy)((function(){return r.e(8).then(r.bind(null,98))})),V=Object(a.lazy)((function(){return r.e(7).then(r.bind(null,99))})),z=Object(a.lazy)((function(){return r.e(6).then(r.bind(null,100))})),F=Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(5)]).then(r.bind(null,96))}));function K(){var e=Object(i.b)(),t=Object(i.c)(h.c.getIsRefreshingUser);return Object(a.useEffect)((function(){}),[e]),!t&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(R,{}),Object(g.jsx)(v.d,{children:Object(g.jsxs)(a.Suspense,{fallback:Object(g.jsx)("div",{children:"loader"}),children:[Object(g.jsx)(B,{exact:!0,path:"/",children:Object(g.jsx)(U,{})}),Object(g.jsx)(B,{path:"/register",restricted:!0,children:Object(g.jsx)(D,{})}),Object(g.jsx)(B,{path:"/login",restricted:!0,redirectTo:"/diary",children:Object(g.jsx)(V,{})}),Object(g.jsx)(Q,{path:"/diary",restricted:!0,redirectTo:"/login",children:Object(g.jsx)(z,{})}),Object(g.jsx)(Q,{path:"/calculator",restricted:!0,redirectTo:"/login",children:Object(g.jsx)(F,{})}),Object(g.jsx)(v.a,{to:"/"})]})})]})}s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(i.a,{store:f,children:Object(g.jsx)(o.a,{loading:Object(g.jsx)("h2",{children:"...loading"}),persistor:p,children:Object(g.jsx)(u.a,{children:Object(g.jsx)(K,{})})})})}),document.getElementById("root"))}},[[79,2,3]]]);
//# sourceMappingURL=main.1f48a9f5.chunk.js.map